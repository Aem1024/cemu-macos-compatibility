@function hexToRGB($hex) {
    @return red($hex), green($hex), blue($hex);
}

$brand: hsl(189, 80%, 45%);;
$background: #f6f6f6;
$background-rgb: hexToRGB($background);
$dm-background: #22272e;
$dm-background-rgb: hexToRGB($dm-background);
$text: #2c3e50;
$dm-text: #adbac7;
$container-background: #e6edef;
$dm-container-background: #2b313a;

$perfect: #4caf50;
$playable: #039be5;
$runs: #fbc02d;
$loads: #ab47bc;
$unplayable: #f44336;

:root {
    --c-brand: #{$brand};
    --c-brand-hover: #{mix($brand, black, 80%)};
    --c-navbar-hover: #{mix($brand, black, 80%)};

    --c-bg: #{$background};
    --c-bg-rgb: #{$background-rgb};
    --c-bg-light: #{mix($background, black, 99%)};
    --c-bg-search: #{mix($background, white, 20%)};
    --c-bg-code: #{mix($background, black, 97%)};
    --c-bg-navbar-item: #{mix($background, black, 96%)};

    --c-text: #{$text};
    --c-text-grey: #{rgba($text, .8)};
    --c-text-code: var(--c-text-grey);

    --c-border: #{mix($text, white, 15%)};
    --c-border-dark: #{mix($text, white, 10%)};

    --c-container-bg: #{$container-background};
    --c-container-border: var(--c-container-bg);
    
    --shadow: 0 1px 8px 0 rgba(0, 0, 0, 0.1);
    --compat-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.07);
    --navbar-height: 55px;
    --footer-height: 137px;

    --c-perfect: #{$perfect};
    --c-playable: #{$playable};
    --c-runs: #{$runs};
    --c-loads: #{$loads};
    --c-unplayable: #{$unplayable};

    --c-container-bg-perfect: #{rgba($perfect, .3)};
    --c-container-bg-playable: #{rgba($playable, .3)};
    --c-container-bg-runs: #{rgba($runs, .3)};
    --c-container-bg-loads: #{rgba($loads, .3)};
    --c-container-bg-unplayable: #{rgba($unplayable, .3)};
}

@media (prefers-color-scheme: dark) {
    :root {
        --c-navbar-hover: hsl(189, 70%, 65%);

        --c-bg: #{$dm-background};
        --c-bg-rgb: #{$dm-background-rgb};
        --c-bg-light: #{mix($dm-background, black, 99%)};
        --c-bg-lighter: #{mix($dm-container-background, white, 98%)};
        --c-bg-search: var(--c-bg-code);
        --c-bg-code: #{mix($dm-background, white, 97%)};
        --c-bg-navbar-item: #{mix($dm-background, white, 96%)};

        --c-text: #{$dm-text};
        --c-text-grey: #{rgba($dm-text, .75)};
        --c-text-code: #{mix($dm-text, black, 85%)};

        --c-border: #{mix($dm-container-background, white, 92%)};
        --c-border-dark: #{mix($dm-container-background, white, 87%)};

        --c-container-bg: #{$dm-container-background};
        --c-container-border: var(--c-container-bg);
        --shadow: 0;
        --compat-shadow: 0;

        --c-container-bg-perfect: #{rgba($perfect, .6)};
        --c-container-bg-playable: #{rgba($playable, .6)};
        --c-container-bg-runs: #{rgba($runs, .6)};
        --c-container-bg-loads: #{rgba($loads, .6)};
        --c-container-bg-unplayable: #{rgba($unplayable, .6)};
    }
}